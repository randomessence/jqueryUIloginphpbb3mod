<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<?xml-stylesheet type="text/xsl" href="modx.prosilver.en.xsl"?>
<!--NOTICE: Please open this file in your web browser. If presented with a security warning, you may safely tell it to allow the blocked content.-->
<!--For security purposes, please check: http://www.phpbb.com/mods/ for the latest version of this MOD.\nAlthough MODs are checked before being allowed in the MODs Database there is no guarantee that there are no security problems within the MOD.\nNo support will be given for MODs not found within the MODs Database which can be found at http://www.phpbb.com/mods/-->
<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.2.5.xsd">
	<header>
		<meta name="generator" content="MODX file generated with PP MODX Creator by tumba25 (online version)"/>
		<license><![CDATA[http://opensource.org/licenses/gpl-license.php GNU General Public License v2]]></license>
		<title lang="en"><![CDATA[jqueryUI Login modal 1.1.3]]></title>
		<description lang="en"><![CDATA[installs a simple jquery based modal login dialogue using jQueryUI. it is highly theme-able and lightweight.

This mod will load jquery 1.8.3 and juqeryui 1.9.2 onto you board. Both are required to work with this mod.

once it is installed that is it, refresh you style and it should be visible with the default cupertino style. 

25 default styles included. Change them in the ACP/General/Board Settings

Easily add custom styled themes.]]></description>
		<author-notes lang="en"><![CDATA[some code borrowed and altered from this mod: https://www.phpbb.com/customise/db/mod/forum_favicon/

For Usage Info (such as bbcodes) see the Github page readme in the authors url link above]]></author-notes>
		<author-group>
			<author>
				<username><![CDATA[randomessence]]></username>
				<homepage><![CDATA[https://github.com/randomessence/jqueryUIloginphpbb3mod]]></homepage>
			</author>
		</author-group>
		<mod-version>1.1.3</mod-version>
		<installation>
			<level>easy</level>
			<time>120</time>
			<target-version>3.0.11</target-version>
		</installation>
		<history>
			<entry>
				<date>2012-01-14</date>
				<rev-version>1.0.0</rev-version>
				<changelog lang="en">
					<change><![CDATA[initial working release]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-01-21</date>
				<rev-version>1.0.5</rev-version>
				<changelog lang="en">
					<change><![CDATA[tweaked code and install.xml]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-01-22</date>
				<rev-version>1.0.6</rev-version>
				<changelog lang="en">
					<change><![CDATA[added root_path to jquery]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-01-26</date>
				<rev-version>1.0.7</rev-version>
				<changelog lang="en">
					<change><![CDATA[added stay hidden this session field to login form]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-01-30</date>
				<rev-version>1.0.8</rev-version>
				<changelog lang="en">
					<change><![CDATA[tweaked login form]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-05-30</date>
				<rev-version>1.0.9</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jquery and jqueryui]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-07-24</date>
				<rev-version>1.0.9.1</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jqueryUi to .22]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-08-02</date>
				<rev-version>1.0.9.2</rev-version>
				<changelog lang="en">
					<change><![CDATA[reorganised the code a bit]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-08-10</date>
				<rev-version>1.0.94</rev-version>
				<changelog lang="en">
					<change><![CDATA[added ability for the script to display and accordian and created a special bbcode to use it.]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-08-26</date>
				<rev-version>1.0.96</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jquery and jqueryui to 1.8.0 and 1.8.23 respectively]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-09-28</date>
				<rev-version>1.0.97</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jquery to 1.8.2]]></change>
					<change><![CDATA[updated jqueryUI to 1.8.24]]></change>
					<change><![CDATA[bringing mod inline with new update policy]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-10-15</date>
				<rev-version>1.0.99</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jquery ui to 1.9.0 , removed support for obsolete theme switcher]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-10-14</date>
				<rev-version>1.1.0</rev-version>
				<changelog lang="en">
					<change><![CDATA[added a way to change theme in acp.]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-10-27</date>
				<rev-version>1.1.1</rev-version>
				<changelog lang="en">
					<change><![CDATA[improved acp method, subsilver support]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-12-01</date>
				<rev-version>1.1.2</rev-version>
				<changelog lang="en">
					<change><![CDATA[updated jquery and jqueryui to 1.8.3 and 1.9.2 respectively]]></change>
					<change><![CDATA[added custom css tweaks for buttons and accordion]]></change>
				</changelog>
			</entry>
			<entry>
				<date>2012-12-07</date>
				<rev-version>1.1.3</rev-version>
				<changelog lang="en">
					<change><![CDATA[changing language edits to prevent conflicts]]></change>
				</changelog>
			</entry>
		</history>
		<link-group>
			<link type="template" href="subsilver2.xml" lang="en">subsilver2</link>
			<link type="language" href="en_us.xml" lang="en">en_us.xml</link>
		</link-group>
	</header>
	<action-group>
		<copy>
			<file from="root/*.*" to="*.*"/>
			<file from="root/styles/prosilver/template/jqueryui/*.*" to="styles/prosilver/template/jqueryui/*.*"/>
		</copy>
		<open src="includes/functions.php">
			<edit>
				<find><![CDATA[	// The following assigns all _common_ variables that may be used at any point in a template.]]></find>
				<action type="before-add"><![CDATA[	// Start jQueryui
	if (empty($config['jqui_theme'])) 
	{
	set_config('jqui_theme', 'smoothness', false);
	}
	// End jQueryui]]></action>
			</edit>
			<edit>
				<find><![CDATA[		'SITE_DESCRIPTION'				=> $config['site_desc'],]]></find>
				<action type="before-add"><![CDATA[		'JQUI_THEME'					=> $config['jqui_theme'],]]></action>
			</edit>
		</open>
		<open src="includes/acp/acp_board.php">
			<edit>
				<find><![CDATA[						'legend2'				=> 'ACP_LOAD_SETTINGS',]]></find>
				<action type="before-add"><![CDATA[						'jqui_theme'			=> array('lang' => 'JQUI_THEME_NAME',		'validate' => 'string',	'type' => 'text:40:255', 'explain' => true),]]></action>
			</edit>
		</open>
		<open src="language/en/acp/board.php">
			<edit>
				<find><![CDATA[	'JAB_USERNAME_EXPLAIN'		=> 'Specify a registered username or a valid JID. The username will not be checked for validity. If you only specify a username, then your JID will be the username and the server you specified above. Else, specify a valid JID, for example user@jabber.org.',
));]]></find>
				<action type="after-add"><![CDATA[	// START jQuery UI Theme
$lang = array_merge($lang, array(
	'JQUI_THEME_NAME'				=> 'jQueryUI Theme',
	'JQUI_THEME_NAME_EXPLAIN'		=> 'To change the theme to one of the included themes you need to specify the theme folder name here. To specify a custom theme you must rename css files to jquery-ui.css then upload your custom theme folder to the js/jqueryui/css/ folder. Then specify the name of that folder here.',
));
	// END jQuery UI Theme]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_footer.html">
			<edit>
				<find><![CDATA[</body>]]></find>
				<action type="before-add"><![CDATA[<!-- INCLUDE jqueryui/jqueryui.html -->]]></action>
			</edit>
		</open>
		<open src="styles/prosilver/template/overall_header.html">
			<edit>
				<find><![CDATA[<head>]]></find>
				<action type="after-add"><![CDATA[<script type="text/javascript">
// ]]>&lt;![CDATA[<![CDATA[
!window.jQuery && document.write('<script type="text\/javascript" src="{ROOT_PATH}js/jquery/jquery.js"><\/script>');
// ]]>]]&gt;<![CDATA[
</script>
]]></action>
			</edit>
			<edit>
				<find><![CDATA[</head>]]></find>
				<action type="before-add"><![CDATA[<!-- INCLUDE jqueryui/jqueryUIheader.html -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[<body id="phpbb" class="section-{SCRIPT_NAME} {S_CONTENT_DIRECTION}">]]></find>
				<action type="after-add"><![CDATA[<!-- INCLUDE jqueryui/loginform.html -->]]></action>
			</edit>
			<edit>
				<find><![CDATA[<li class="icon-logout"><a href="{U_LOGIN_LOGOUT}" title="{L_LOGIN_LOGOUT}" accesskey="x">{L_LOGIN_LOGOUT}</a></li>]]></find>
				<action type="replace-with"><![CDATA[<!-- IF S_USER_LOGGED_IN --><li class="uibutton"><a href="{U_LOGIN_LOGOUT}" title="{L_LOGIN_LOGOUT}" accesskey="x">{L_LOGIN_LOGOUT}</a></li><!-- ENDIF -->
<!-- IF not S_USER_LOGGED_IN --><li class="uibutton"><button id="opener" class="">Sign In</button></li><!-- ENDIF -->]]></action>
			</edit>
		</open>
		<diy-instructions lang="en"><![CDATA[Change themes by entering your preferred folder name into the field in the board features page of the ACP/General/Board Features

* a list of styles by folder name*

base
black-tie
blitzer
cupertino
dark-hive
dot-luv
eggplant
excite-bike
flick
hot-sneaks
humanity
le-frog
mint-choc
overcast
pepper-grinder
redmond
smoothness
south-street
start
sunny
swanky-purse
trontastic
ui-darkness
ui-lightness
vader

----------------------

BBCODE

Since the jqueryui framework is loaded onto you board with this mod you can use it for loads of other stuff. here i am going to use it to create an accordion/spoiler type displaye using 2 bbcodes

Usage

[accspoiler={TEXT1}]{TEXT2}[/accspoiler]

HTML Replace

<div>
<div class="accordion">
<h1><a href="#">{TEXT1}</a></h1>
<div>
{TEXT2}
</div>
</div>
</div>

HelpLine

[accspoiler=Title goes here}]spoiler text goes here[/accspoiler]

----------------------

Now to have layers (the full accordion type thing) you use the next bbcode inside the [accspoiler=][/accspoiler].

[accextra={TEXT1}]{TEXT2}[/accextra]

</div>
<h1><a href="#">{TEXT1}</a></h1>
<div>
{TEXT2}

Helpline

 [accspoiler=] [accspoiler=Title goes here}]spoiler text goes here[/accspoiler]  [/accspoiler]]]></diy-instructions>
	</action-group>
</mod>
